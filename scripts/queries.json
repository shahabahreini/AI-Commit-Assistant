{
  "queries": [
    {
      "name": "Daily Active Users",
      "query": "customEvents | where name == 'gitmind.daily_active_user' | summarize UniqueUsers = dcount(tostring(customDimensions.user_id)) by bin(timestamp, 1d) | order by timestamp desc",
      "description": "Count of unique daily active users"
    },
    {
      "name": "Commit Generation Stats",
      "query": "customEvents | where name == 'gitmind.commit_generated' | summarize TotalCommits = count(), SuccessfulCommits = countif(tostring(customDimensions.success) == 'true'), SuccessRate = round(100.0 * countif(tostring(customDimensions.success) == 'true') / count(), 2) by bin(timestamp, 1d), tostring(customDimensions.provider) | order by timestamp desc",
      "description": "Daily commit generation statistics by provider"
    },
    {
      "name": "Error Analysis",
      "query": "customEvents | where name == 'gitmind.extension_error' | summarize ErrorCount = count() by tostring(customDimensions.error_type), tostring(customDimensions.context), bin(timestamp, 1d) | order by timestamp desc, ErrorCount desc",
      "description": "Error frequency analysis by type and context"
    },
    {
      "name": "Provider Success Rates",
      "query": "customEvents | where name == 'gitmind.commit_generated' | summarize TotalAttempts = count(), SuccessRate = round(100.0 * countif(tostring(customDimensions.success) == 'true') / count(), 2) by tostring(customDimensions.provider) | order by SuccessRate desc",
      "description": "Success rates by AI provider"
    }
  ]
}
